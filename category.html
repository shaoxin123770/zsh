<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>电影分类 - 南北绿豆</title>
    <style>
        /* 基础样式重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #fff5f8;
            color: #5b5b5b;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        a {
            text-decoration: none;
            color: #ff6fa3;
            transition: all 0.3s ease;
        }
        
        /* 导航栏样式 */
        header {
            background: linear-gradient(90deg, rgba(255,255,255,0.7), rgba(255, 240, 246, 0.7));
            -webkit-backdrop-filter: blur(8px);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid #f3d3df;
            box-shadow: 0 6px 20px rgba(123, 74, 184, 0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 800;
            color: #ff6fa3;
            display: flex;
            align-items: center;
        }
        
        .logo span {
            color: #7b4ab8;
            margin-left: 5px;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 24px;
        }
        
        .nav-links a {
            font-size: 16px;
            font-weight: 600;
            padding: 10px 14px;
            position: relative;
            background: rgba(255,255,255,0.6);
            border-radius: 999px;
        }
        
        .nav-links a:hover {
            color: #ff3e82;
            background: #ffffff;
        }
        
        .nav-links a.active {
            color: #ffffff;
            background: #ff6fa3;
        }
        
        .nav-links a.active::after {
            content: '';
            position: absolute;
            display: none;
        }
        
        /* 页面标题区域 - 修改这里消除空白 */
        .page-header {
            background: url('../background.jpg') no-repeat center center/cover;
            background-size: cover;
            background-position: center center;
            padding: 0; /* 完全移除内边距 */
            text-align: center;
            box-shadow: 0 2px 10px rgba(123, 74, 184, 0.05);
            margin: 0; /* 确保没有外边距 */
            line-height: 1; /* 重置行高 */
        }
        
        .page-title {
            font-size: 32px;
            margin: 0; /* 移除标题的外边距 */
            padding: 20px 0 8px 0; /* 只在标题内部添加内边距 */
            color: #7b4ab8;
        }
        
        .page-subtitle {
            font-size: 16px;
            max-width: 600px;
            margin: 0 auto;
            padding: 0 0 20px 0; /* 只在副标题内部添加内边距 */
            color: #6c6c6c;
        }
        
        /* 主要内容区域 */
        main {
            flex: 1;
            padding: 0; /* 移除主内容区域的内边距 */
        }
        
        .section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .section-title {
            font-size: 28px;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 3px solid #ffb3c7;
            display: inline-block;
            color: #7b4ab8;
        }
        
        /* 电影结果网格 */
        .movie-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px;
        }

        .movie-card {
            background-color: #ffffff;
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 6px 18px rgba(123, 74, 184, 0.08);
        }

        .movie-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 16px 32px rgba(255, 111, 163, 0.2);
        }

        .movie-poster {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .movie-info {
            padding: 15px;
        }

        .movie-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #5b5b5b;
        }

        .movie-meta {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #8a8a8a;
        }

        .empty-tip {
            color: #8a8a8a;
            padding: 20px 0;
            text-align: center;
        }

        /* 分类筛选器 */
        .filter-container {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 25px rgba(255, 111, 163, 0.15);
        }
        
        .filter-group {
            margin-bottom: 25px;
        }
        
        .filter-group:last-child {
            margin-bottom: 0;
        }
        
        .filter-label {
            display: block;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #7b4ab8;
        }
        
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .filter-option {
            background-color: #ffeaf1;
            border: 1px solid #ffd6e3;
            border-radius: 999px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #7b4ab8;
        }
        
        .filter-option:hover {
            background-color: #ffdfe8;
        }
        
        .filter-option.active {
            background-color: #ff6fa3;
            border-color: #ff6fa3;
            color: #ffffff;
        }
        
        /* 年份筛选器 */
        .year-filter {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .year-input {
            background-color: #fff5f8;
            border: 1px solid #ffd6e3;
            border-radius: 8px;
            padding: 8px 12px;
            color: #5b5b5b;
            width: 100px;
        }
        
        .year-separator {
            color: #8a8a8a;
        }
        
        /* 排序选项 */
        .sort-options {
            display: flex;
            gap: 15px;
        }
        
        .sort-option {
            background-color: #ffeaf1;
            border: 1px solid #ffd6e3;
            border-radius: 8px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #7b4ab8;
        }
        
        .sort-option:hover {
            background-color: #ffdfe8;
        }
        
        .sort-option.active {
            background-color: #ff6fa3;
            border-color: #ff6fa3;
            color: #ffffff;
        }
        
        /* 重置和应用按钮 */
        .filter-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 25px;
        }
        
        .filter-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 999px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .reset-btn {
            background-color: transparent;
            border: 1px solid #ffd6e3;
            color: #7b4ab8;
        }
        
        .reset-btn:hover {
            background-color: #ffeaf1;
        }
        
        .apply-btn {
            background-color: #ff6fa3;
            color: #ffffff;
        }
        
        .apply-btn:hover {
            background-color: #ff3e82;
        }
        
        /* 页脚样式 */
        footer {
            background-color: #ffffff;
            padding: 40px 20px;
            margin-top: auto;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }
        
        .footer-column h3 {
            font-size: 18px;
            margin-bottom: 20px;
            color: #7b4ab8;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a:hover {
            color: #ff3e82;
        }
        
        .copyright {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ffd6e3;
            color: #8a8a8a;
            font-size: 14px;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                padding: 15px;
            }
            
            .logo {
                margin-bottom: 15px;
            }
            
            .nav-links {
                width: 100%;
                justify-content: space-between;
            }
            
            .nav-links li {
                margin-left: 0;
            }
            
            .page-title {
                font-size: 32px;
                padding: 15px 0 6px 0;
            }
            
            .page-subtitle {
                padding: 0 0 15px 0;
            }
            
            .filter-options {
                gap: 8px;
            }
            
            .filter-option {
                padding: 6px 12px;
                font-size: 13px;
            }
        }
        
        @media (max-width: 480px) {
            .page-title {
                font-size: 28px;
                padding: 12px 0 4px 0;
            }
            
            .page-subtitle {
                font-size: 16px;
                padding: 0 0 12px 0;
            }
            
            .filter-container {
                padding: 20px;
            }
            
            .year-filter {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .year-input {
                width: 100%;
            }
            
            .sort-options {
                flex-wrap: wrap;
            }
            
            .filter-actions {
                flex-direction: column;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <header>
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-film"></i>
                <span>南北绿豆</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">首页</a></li>
                <li><a href="ranking.html">排行榜</a></li>
                <li><a href="category.html" class="active">分类</a></li>
                <li><a href="about.html">关于我们</a></li>
            </ul>
        </div>
    </header>

    <!-- 主要内容 -->
    <main>
        <!-- 页面标题区域 -->
        <section class="page-header">
            <h1 class="page-title">电影分类</h1>
            <p class="page-subtitle">通过多种筛选条件，精准找到您想看的电影</p>
        </section>

        <!-- 分类筛选器（上移到最前） -->
        <section class="section">
            <div class="filter-container">
                <!-- 类型筛选 -->
                <div class="filter-group">
                    <label class="filter-label">电影类型</label>
                    <div class="filter-options">
                        <div class="filter-option active">全部</div>
                        <div class="filter-option">动作</div>
                        <div class="filter-option">喜剧</div>
                        <div class="filter-option">剧情</div>
                        <div class="filter-option">科幻</div>
                        <div class="filter-option">恐怖</div>
                        <div class="filter-option">爱情</div>
                        <div class="filter-option">悬疑</div>
                        <div class="filter-option">动画</div>
                        <div class="filter-option">犯罪</div>
                        <div class="filter-option">冒险</div>
                        <div class="filter-option">战争</div>
                    </div>
                </div>
                
                <!-- 地区筛选 -->
                <div class="filter-group">
                    <label class="filter-label">地区</label>
                    <div class="filter-options">
                        <div class="filter-option active">全部</div>
                        <div class="filter-option">华语</div>
                        <div class="filter-option">美国</div>
                        <div class="filter-option">欧洲</div>
                        <div class="filter-option">日本</div>
                        <div class="filter-option">韩国</div>
                        <div class="filter-option">印度</div>
                        <div class="filter-option">其他</div>
                    </div>
                </div>
                
                <!-- 年份筛选 -->
                <div class="filter-group">
                    <label class="filter-label">年份</label>
                    <div class="year-filter">
                        <input type="number" class="year-input" placeholder="起始年份" min="1900" max="2024" value="1900">
                        <span class="year-separator">-</span>
                        <input type="number" class="year-input" placeholder="结束年份" min="1900" max="2024" value="2024">
                    </div>
                </div>
                
                <!-- 排序选项 -->
                <div class="filter-group">
                    <label class="filter-label">排序方式</label>
                    <div class="sort-options">
                        <div class="sort-option active">评分最高</div>
                        <div class="sort-option">最新上映</div>
                        <div class="sort-option">热度最高</div>
                        <div class="sort-option">评论最多</div>
                    </div>
                </div>
                
                <!-- 操作按钮 -->
                <div class="filter-actions">
                    <button class="filter-btn reset-btn">重置筛选</button>
                    <button class="filter-btn apply-btn">应用筛选</button>
                </div>
            </div>
        </section>

        <!-- 筛选结果 -->
        <section class="section">
            <h2 class="section-title">筛选结果</h2>
            <div id="results" class="movie-grid"></div>
            <div id="emptyTip" class="empty-tip" style="display:none;">没有匹配的影片，请调整筛选条件。</div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>南北绿豆</h3>
                <p>致力于为您提供最新、最全的电影资讯和观影指南。</p>
            </div>
            <div class="footer-column">
                <h3>快速链接</h3>
                <ul class="footer-links">
                    <li><a href="index.html">首页</a></li>
                    <li><a href="ranking.html">排行榜</a></li>
                    <li><a href="category.html">分类</a></li>
                    <li><a href="about.html">关于我们</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>联系我们</h3>
                <ul class="footer-links">
                    <li>邮箱: contact@movieworld.com</li>
                    <li>电话: 400-123-4567</li>
                    <li>地址: 北京市朝阳区电影大道123号</li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 南北绿豆 版权所有</p>
        </div>
    </footer>

    <script>
        // 分类筛选与结果渲染
        document.addEventListener('DOMContentLoaded', function() {
            // 示例数据（可替换为真实数据源）
            const movies = [
                { id: 1, title: '沙丘：第二部分', year: 2024, region: '美国', genres: ['科幻','动作'], rating: 8.7, popularity: 98, comments: 12345, poster: 'https://image.tmdb.org/t/p/w500/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg' },
                { id: 2, title: '哥斯拉大战金刚2', year: 2024, region: '美国', genres: ['动作','科幻'], rating: 7.0, popularity: 95, comments: 8654, poster: 'https://image.tmdb.org/t/p/w500/7ZP8HtgOIDaBs12krXgUIygqEsy.jpg' },
                { id: 3, title: '功夫熊猫4', year: 2024, region: '美国', genres: ['动画','喜剧','家庭'], rating: 6.7, popularity: 90, comments: 5432, poster: 'https://image.tmdb.org/t/p/w500/f1AQhx6ZfGhPZFTVKgxG91PhEYc.jpg' },
                { id: 4, title: '内战', year: 2024, region: '美国', genres: ['战争','剧情','政治'], rating: 7.2, popularity: 80, comments: 3210, poster: 'https://image.tmdb.org/t/p/w500/sMp34cNKjIb18UBOCoAv4DpCxwY.jpg' },
                { id: 5, title: '肖申克的救赎', year: 1994, region: '美国', genres: ['剧情'], rating: 9.3, popularity: 88, comments: 22000, poster: 'https://image.tmdb.org/t/p/w500/q719jXXEzOoYaps6babgKnONONX.jpg' },
                { id: 6, title: '教父', year: 1972, region: '美国', genres: ['犯罪','剧情'], rating: 9.2, popularity: 85, comments: 18000, poster: 'https://image.tmdb.org/t/p/w500/3bhkrj58Vtu7enYsRolD1fZdja1.jpg' },
                { id: 7, title: '孤注一掷', year: 2023, region: '华语', genres: ['犯罪','剧情'], rating: 7.2, popularity: 75, comments: 7600, poster: 'https://media.themoviedb.org/t/p/w440_and_h660_face/gjyqQD5LsNOiVIXuczw9joqjiKQ.jpg' },
                { id: 8, title: '让子弹飞', year: 2010, region: '华语', genres: ['喜剧','动作'], rating: 8.7, popularity: 70, comments: 9900, poster: 'https://media.themoviedb.org/t/p/w440_and_h660_face/vUvrjRRmC1BeI8QyMaRBdtIqHHn.jpg' },
                { id: 9, title: '你的名字。', year: 2016, region: '日本', genres: ['动画','爱情'], rating: 8.4, popularity: 78, comments: 12000, poster: 'https://image.tmdb.org/t/p/w500/q719jXXEzOoYaps6babgKnONONX.jpg' },
                { id: 10, title: '三傻大闹宝莱坞', year: 2009, region: '印度', genres: ['喜剧','剧情'], rating: 8.5, popularity: 76, comments: 15000, poster: 'https://image.tmdb.org/t/p/w500/arw2vcBveWOVZr6pxd9XTd1TdQa.jpg' },
                { id: 11, title: '寄生虫', year: 2019, region: '韩国', genres: ['剧情','悬疑'], rating: 8.6, popularity: 89, comments: 21000, poster: 'https://image.tmdb.org/t/p/w500/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg' },
                { id: 12, title: '小丑', year: 2019, region: '美国', genres: ['剧情','犯罪'], rating: 8.5, popularity: 92, comments: 25000, poster: 'https://image.tmdb.org/t/p/w500/udDclJoHjfjb8Ekgsd4FDteOkCU.jpg' },
                { id: 13, title: '复仇者联盟4：终局之战', year: 2019, region: '美国', genres: ['动作','科幻'], rating: 8.4, popularity: 99, comments: 50000, poster: 'https://image.tmdb.org/t/p/w500/or06FN3Dka5tukK1e9sl16pB3iy.jpg' },
                { id: 14, title: '入殓师', year: 2008, region: '日本', genres: ['剧情'], rating: 8.6, popularity: 65, comments: 8000, poster: 'https://media.themoviedb.org/t/p/w440_and_h660_face/pBAtPYWkbif3rJccwAawbngKvvu.jpg' },
                { id: 15, title: '忠犬八公的故事', year: 2009, region: '美国', genres: ['剧情','家庭'], rating: 8.1, popularity: 72, comments: 11000, poster: 'https://media.themoviedb.org/t/p/w440_and_h660_face/hyr7lFaNfxJX0wAKO11OK9LgDq3.jpg' },
                { id: 16, title: '霸王别姬', year: 1993, region: '华语', genres: ['剧情','爱情'], rating: 9.5, popularity: 83, comments: 23000, poster: 'https://media.themoviedb.org/t/p/w440_and_h660_face/vOEkLofQ8N1OdbGs5L87m7Plpw2.jpg' },
                { id: 17, title: '窃听风暴', year: 2006, region: '欧洲', genres: ['剧情','悬疑'], rating: 8.4, popularity: 60, comments: 7000, poster: 'https://media.themoviedb.org/t/p/w440_and_h660_face/l5ELzamAq9aCBJ2CSvW5OMBeQMR.jpg' },
                { id: 18, title: '放牛班的春天', year: 2004, region: '欧洲', genres: ['剧情','音乐'], rating: 8.3, popularity: 66, comments: 9500, poster: 'https://media.themoviedb.org/t/p/w188_and_h282_bestv2/d623rdQLxw7QhdP7ECsz1UkJrHl.jpg' },
                { id: 19, title: '釜山行', year: 2016, region: '韩国', genres: ['恐怖','动作'], rating: 7.6, popularity: 88, comments: 14000, poster: 'https://media.themoviedb.org/t/p/w440_and_h660_face/a31aMXYw3u2rfmzq4RDGvRtIMr1.jpg' },
                { id: 20, title: '海蒂和爷爷', year: 2015, region: '欧洲', genres: ['剧情','家庭'], rating: 8.0, popularity: 58, comments: 5200, poster: 'https://media.themoviedb.org/t/p/w440_and_h660_face/kz4tMH2fwH5XlZYpGWnNkKECOA9.jpg' }
            ];

            const resultsEl = document.getElementById('results');
            const emptyTipEl = document.getElementById('emptyTip');

            function renderMovies(list) {
                if (!list.length) {
                    resultsEl.innerHTML = '';
                    emptyTipEl.style.display = 'block';
                    return;
                }
                emptyTipEl.style.display = 'none';
                resultsEl.innerHTML = list.map(m => (
                    `
                    <div class="movie-card">
                        <img src="${m.poster}" alt="${m.title}" class="movie-poster">
                        <div class="movie-info">
                            <h3 class="movie-title">${m.title}</h3>
                            <div class="movie-meta">
                                <span>${m.year}</span>
                                <span>${m.rating}分</span>
                            </div>
                        </div>
                    </div>
                    `
                )).join('');
            }

            function getFilterState() {
                // 类型
                const typeActive = Array.from(document.querySelectorAll('.filter-group:nth-of-type(1) .filter-option.active'))
                    .map(el => el.textContent.trim());
                // 地区
                const regionActive = Array.from(document.querySelectorAll('.filter-group:nth-of-type(2) .filter-option.active'))
                    .map(el => el.textContent.trim());
                // 年份
                const [startInput, endInput] = document.querySelectorAll('.year-input');
                const startYear = parseInt(startInput.value, 10) || 1900;
                const endYear = parseInt(endInput.value, 10) || 2100;
                // 排序
                const sortActive = document.querySelector('.sort-option.active')?.textContent.trim() || '评分最高';
                return { typeActive, regionActive, startYear, endYear, sortActive };
            }

            function filterMovies(data, state) {
                return data.filter(m => {
                    const typeOk = state.typeActive.includes('全部') || state.typeActive.length === 0
                        ? true
                        : state.typeActive.some(t => m.genres.includes(t));
                    const regionOk = state.regionActive.includes('全部') || state.regionActive.length === 0
                        ? true
                        : state.regionActive.includes(m.region);
                    const yearOk = m.year >= state.startYear && m.year <= state.endYear;
                    return typeOk && regionOk && yearOk;
                });
            }

            function sortMovies(data, sortKey) {
                const list = [...data];
                switch (sortKey) {
                    case '评分最高':
                        list.sort((a, b) => b.rating - a.rating);
                        break;
                    case '最新上映':
                        list.sort((a, b) => b.year - a.year);
                        break;
                    case '热度最高':
                        list.sort((a, b) => b.popularity - a.popularity);
                        break;
                    case '评论最多':
                        list.sort((a, b) => b.comments - a.comments);
                        break;
                    default:
                        break;
                }
                return list;
            }

            function applyAndRender() {
                const state = getFilterState();
                const filtered = filterMovies(movies, state);
                const sorted = sortMovies(filtered, state.sortActive);
                renderMovies(sorted);
            }

            // 类型和地区筛选选项点击效果
            const filterOptions = document.querySelectorAll('.filter-option');
            filterOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // 如果点击的是"全部"，则取消同组其他选项的选中状态
                    if (this.textContent === '全部') {
                        const parentGroup = this.closest('.filter-group');
                        const siblings = parentGroup.querySelectorAll('.filter-option');
                        siblings.forEach(sibling => {
                            sibling.classList.remove('active');
                        });
                        this.classList.add('active');
                    } else {
                        // 如果点击的是其他选项，则取消同组的"全部"选项
                        const parentGroup = this.closest('.filter-group');
                        const allOption = parentGroup.querySelector('.filter-option:first-child');
                        if (allOption && allOption.textContent === '全部') {
                            allOption.classList.remove('active');
                        }
                        
                        // 切换当前选项的选中状态
                        this.classList.toggle('active');
                        
                        // 如果没有任何选项被选中，则选中"全部"
                        const activeOptions = parentGroup.querySelectorAll('.filter-option.active');
                        if (activeOptions.length === 0) {
                            allOption.classList.add('active');
                        }
                    }

                    // 每次更新筛选项后立即应用筛选
                    applyAndRender();
                });
            });
            
            // 排序选项点击效果
            const sortOptions = document.querySelectorAll('.sort-option');
            sortOptions.forEach(option => {
                option.addEventListener('click', function() {
                    sortOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    applyAndRender();
                });
            });
            
            // 重置按钮点击效果
            const resetBtn = document.querySelector('.reset-btn');
            resetBtn.addEventListener('click', function() {
                // 重置类型筛选
                const typeOptions = document.querySelectorAll('.filter-group:first-child .filter-option');
                typeOptions.forEach(option => {
                    option.classList.remove('active');
                });
                typeOptions[0].classList.add('active');
                
                // 重置地区筛选
                const regionOptions = document.querySelectorAll('.filter-group:nth-child(2) .filter-option');
                regionOptions.forEach(option => {
                    option.classList.remove('active');
                });
                regionOptions[0].classList.add('active');
                
                // 重置年份
                const yearInputs = document.querySelectorAll('.year-input');
                yearInputs[0].value = '2020';
                yearInputs[1].value = '2024';
                
                // 重置排序
                sortOptions.forEach(option => option.classList.remove('active'));
                sortOptions[0].classList.add('active');

                // 重置后重新渲染
                applyAndRender();
            });
            
            // 应用按钮点击效果
            const applyBtn = document.querySelector('.apply-btn');
            applyBtn.addEventListener('click', function() {
                applyAndRender();
            });

            // 年份输入即时应用
            const yearInputsLive = document.querySelectorAll('.year-input');
            yearInputsLive.forEach(input => {
                input.addEventListener('input', function() {
                    applyAndRender();
                });
                input.addEventListener('change', function() {
                    applyAndRender();
                });
            });

            // 首次渲染
            applyAndRender();
        });
    </script>
</body>
</html>